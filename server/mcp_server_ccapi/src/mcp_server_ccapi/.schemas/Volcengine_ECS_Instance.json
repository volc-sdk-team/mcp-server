{"typeName": "Volcengine::ECS::Instance", "description": "表示一个弹性计算服务（ECS）的实例资源。", "definitions": {"CpuMemory": {"description": "实例的CPU选项。", "properties": {"CoreCount": {"description": "实例的核数。", "type": "integer"}, "CpuNumber": {"description": "实例的CPU数量。", "type": "integer"}, "MemorySize": {"description": "实例的内存大小，单位MB。", "type": "integer"}, "ThreadsPerCore": {"description": "实例的每核线程数。", "type": "integer"}}, "type": "object"}, "EipAddress": {"description": "实例的EIP地址。", "properties": {"AllocationId": {"description": "实例的分配ID。", "type": "string"}, "BandwidthMbps": {"description": "公网IP的带宽上限，默认值为1，单位：Mbps。\n- `ChargeType`传入`PayByBandwidth`：取值范围1～500。\n- `ChargeType`传入`PayByTraffic`：取值范围1～200。", "maximum": 500, "minimum": 1, "type": "integer"}, "BandwidthPackageId": {"description": "共享带宽包的ID，表示将公网IP加入到共享带宽包。\n- 您可以调用[DescribeBandwidthPackages](https://www.volcengine.com/docs/6623/100685)接口，查询共享带宽包的ID。\n- 公网IP加入到共享带宽包必须同时满足如下条件：\n  - 二者的安全防护类型相同。\n  - 二者的地域相同。\n  - 公网IP的计费方式必须是按量计费。\n  - 共享带宽包为IPv4类型。", "type": "string"}, "ChargeType": {"description": "公网IP的计费方式，取值：\n- PayByBandwidth（默认）：按量计费-按带宽上限计费。\n- PayByTraffic：按量计费-按实际流量计费。\n- PrePaid：包年包月。\n:::tip\n实例的计费类型`InstanceChargeType`取值为`PostPaid`时，该参数取值不能为`PrePaid`。\n:::", "default": "PayByBandwidth", "type": "string", "enum": ["PayByBandwidth", "PayByTraffic", "PrePaid"]}, "ISP": {"description": "公网IP的线路类型，默认为BGP。取值：\n- BGP：BGP（多线）。\n- 若您的账号已申请并开通了静态单线权限，则可传入如下取值：\n  - ChinaMobile：中国移动静态单线。\n  - ChinaTelecom：中国电信静态单线。\n  - ChinaUnicom：中国联通静态单线。\n- 若您的账号已申请并开通了BGP单线权限，则可传入SingleLine_BGP。\n- 若您的账号已申请并开通了静态BGP权限，则可传入Static_BGP。", "type": "string", "enum": ["BGP", "ChinaMobile", "ChinaTelecom", "ChinaUnicom", "SingleLine_BGP", "Static_BGP"]}, "IpAddress": {"description": "实例的IP地址。", "format": "ip-address", "type": "string", "semantic": "publicIp"}, "ReleaseWithInstance": {"description": "实例是否随实例释放。", "default": false, "type": "boolean"}}, "type": "object"}, "Image": {"description": "实例的镜像。", "required": ["ImageId"], "properties": {"ImageId": {"description": "实例的镜像ID。", "type": "string"}, "ImageReleaseVersion": {"description": "实例的镜像发布版本。", "type": "string"}, "KeepImageCredential": {"description": "实例是否保留镜像凭证。", "type": "boolean"}, "SecurityEnhancementStrategy": {"description": "实例的安全增强策略。Active：开启安全加固，仅对公共镜像生效。InActive：关闭安全加固，对所有镜像生效。", "type": "string", "enum": ["Active", "InActive"]}}, "type": "object"}, "KeyPair": {"description": "实例的密钥对。", "required": ["KeyPairName"], "properties": {"KeyPairId": {"description": "实例的公钥。", "type": "string"}, "KeyPairName": {"description": "实例的密钥对名称。", "type": "string"}}, "type": "object"}, "NetworkInterface": {"description": "实例的网络接口。", "required": ["SubnetId", "SecurityGroupIds"], "properties": {"Ipv6AddressCount": {"description": "实例的IPv6地址数量。", "maximum": 1, "type": "integer"}, "Ipv6Addresses": {"description": "实例的IPv6地址。", "uniqueItems": true, "type": "array", "items": {"type": "string"}, "insertionOrder": false}, "MacAddress": {"description": "实例的MAC地址。", "type": "string"}, "NetworkInterfaceId": {"description": "实例的网络接口ID。", "type": "string"}, "PrimaryIpAddress": {"description": "实例的主IP地址。", "type": "string", "semantic": "privateIp"}, "PrivateIpAddresses": {"description": "实例的私有IP地址。", "uniqueItems": true, "type": "array", "items": {"type": "string"}, "insertionOrder": false}, "SecurityGroupIds": {"description": "实例的安全组ID。", "maxItems": 5, "uniqueItems": true, "type": "array", "items": {"type": "string"}, "insertionOrder": false}, "SubnetId": {"description": "实例的子网ID。", "type": "string"}, "VpcId": {"description": "实例的VPC ID。", "type": "string"}}, "type": "object"}, "OperationSystem": {"description": "实例的操作系统类型。", "properties": {"Name": {"description": "实例的操作系统名称。", "type": "string"}, "Type": {"description": "实例的操作系统类型。Linux：Linux系统。Windows：Windows系统。", "type": "string", "enum": ["Linux", "Windows"]}}, "type": "object"}, "Placement": {"description": "实例的部署信息。", "properties": {"Affinity": {"description": "针对节省停机模式的ECS实例，停止后会释放部分资源，本参数用于查看ECS实例重新启动时是否仍固定部署在原宿主机上。取值：Host：启用节省停机模式的实例重新启动时，仍会部署在原宿主机上。Default（默认）：启用节省停机模式的实例重新启动时，会优先迁移到支持自动部署的宿主机；若支持自动部署的宿主机资源不足，则在原宿主机上进行启动。", "default": "Default", "type": "string", "enum": ["Host", "Default"]}, "DedicatedHostClusterId": {"description": "实例的专用主机集群ID。", "type": "string"}, "DedicatedHostId": {"description": "实例的专用主机ID。", "type": "string"}, "Tenancy": {"description": "是否在专有宿主机上创建实例，取值：Default（默认）：创建普通云服务器实例。Host：创建专有宿主机实例。若您不指定DedicatedHostId，则由系统自动选择专有宿主机放置实例", "default": "Default", "type": "string", "enum": ["Host", "Default"]}}, "type": "object"}, "Tag": {"description": "实例的标签。", "required": ["Key"], "properties": {"Key": {"description": "实例的键。", "type": "string"}, "Value": {"description": "实例的值。", "type": "string"}}, "type": "object"}, "Volume": {"description": "实例的卷。", "properties": {"DeleteWithInstance": {"description": "实例是否随实例删除。", "default": true, "type": "boolean"}, "ExtraPerformanceIOPS": {"description": "实例的额外性能IOPS。", "maximum": 50000, "minimum": 0, "type": "integer"}, "ExtraPerformanceThroughputMB": {"description": "实例的额外性能吞吐量，单位MB。", "maximum": 650, "minimum": 0, "type": "integer"}, "ExtraPerformanceTypeId": {"description": "额外性能的类型，取值如下：Balance：均衡型额外性能。IOPS：IOPS型额外性能。Throughput：吞吐量型额外性能。", "type": "string", "enum": ["", "Balance", "IOPS", "Throughput"]}, "Size": {"description": "实例的大小，单位GiB。", "maximum": 32768, "minimum": 10, "type": "integer"}, "SnapshotId": {"description": "实例的快照ID。", "type": "string"}, "VolumeId": {"description": "实例的卷ID。", "type": "string"}, "VolumeType": {"description": "云盘类型，取值说明如下：PTSSD：性能型SSD。ESSD_PL0：极速型SSD云盘，PL0规格。ESSD_FlexPL: 极速型SSD云盘，FlexPL规格。TSSD_TL0：吞吐型SSD云盘。", "type": "string", "enum": ["ESSD_PL0", "ESSD_FlexPL", "TSSD_TL0", "PL0ESSD_FlexPL"]}}, "type": "object"}}, "properties": {"AffinityGroupSize": {"description": "亲和组规格，取值：2。\n:::tip\n- 当前仅高性能计算NPU型hpcpci3实例（邀测）支持亲和组。\n- 该功能正在邀测中，如需试用，请联系客户经理申请。\n::: ", "type": "integer"}, "AutoRenew": {"description": "实例到期后是否自动续费，取值：\n- true：自动续费。\n- false（默认）：不自动续费。\n:::tip\n仅当参数`InstanceChargeType`取值为`PrePaid`时生效。\n:::", "type": "boolean"}, "AutoRenewPeriod": {"description": "每次自动续费的时长。\n- 仅当参数`AutoRenew`取值为`True`时，该参数生效，默认值为1。\n- `PeriodUnit`取值为`Month`时，该参数取值为1、2、3、6、12。", "type": "integer", "enum": [1, 2, 3, 6, 12]}, "CpuMaxFrequency": {"description": " 指定CPU最大频率，单位：GHz，取值范围：CPU的主频到睿频之间。\n:::tip\n- 当前仅g3al、c3al、r3al、g4i、c4i、r4i、g4ie、c4ie、r4ie实例支持设置该参数。规格的主频/睿频及更多信息，请参见[实例规格介绍](https://www.volcengine.com/docs/6396/70840)。\n- 该功能正在邀测中，如需使用，请联系客户经理申请。\n:::", "type": "number"}, "CpuMemory": {"description": "实例的CPU选项。", "type": "object", "$ref": "#/definitions/CpuMemory"}, "CreatedAt": {"description": "实例的创建时间。", "format": "date-time", "type": "string", "semantic": "createdTime"}, "CreditSpecification": {"description": "突发性能实例的运行模式，取值：\n- Standard：标准模式。\n- Unlimited：无性能约束模式（暂不支持）。\n:::tip\n- 仅当`InstanceTypeId`取值为ecs.t2系列，即突发性能实例时该参数生效。\n- 不传或传入空值时，突发性能实例默认为`Standard`标准模式。\n:::", "type": "string", "enum": ["Standard", "Unlimited"]}, "DeletionProtection": {"description": "实例删除保护属性，指定是否支持通过控制台或API删除实例。取值：\n- true：开启实例删除保护。\n- false（默认）：关闭实例删除保护。\n开启实例删除保护后，在控制台或调用API删除实例时，会收到删除失败的错误码。如需删除，请先关闭实例删除保护。", "type": "boolean"}, "DeploymentSetGroupNumber": {"description": "当ECS实例要加入或调整的部署集策略为部署集组高可用策略（AvailabilityGroup）时，可以通过该参数指定实例在部署集中的分组号，取值范围：1～7。", "type": "integer"}, "DeploymentSetId": {"description": "实例需要加入的部署集ID。\n- 您可以调用[DescribeDeploymentSets](https://www.volcengine.com/docs/6396/70873)接口，查询已创建的部署集。\n- 关于部署集的更多信息，请参见[部署集](https://www.volcengine.com/docs/6396/70871)。", "type": "string"}, "Description": {"description": "实例的描述，默认为空字符串。\n- 必须以字母或中文开头。\n- 只能包含中文、字母、数字、点号“.”、空格、下划线“_”、中划线“-”、等号“=”、英文逗号“,”、中文逗号“，”和中文句号“。”\n- 长度限制在255个字符以内。", "maxLength": 255, "type": "string", "semantic": "description"}, "EipAddress": {"description": "实例的EIP地址。", "type": "object", "$ref": "#/definitions/EipAddress"}, "ExpiredAt": {"description": "实例的过期时间。", "format": "date-time", "type": "string"}, "Hostname": {"description": "实例主机名，即实例操作系统内部的计算机名。\n- Linux实例：\n  - 允许使用字母、数字、点号“.”或中划线“-”。\n  - 不能以中划线、点号开头或结尾，且不能连续使用中划线和点号。\n  - Linux系统长度限制在2～63个字符之间。\n- Windows实例：\n  - 允许使用字母、数字或中划线“-”，不能完全是数字。\n  - 不能以中划线开头或结尾，且不能连续使用中划线。\n  - Windows系统长度限制在2～15个字符之间。", "pattern": "[a-zA-Z0-9-]{2,63}", "type": "string"}, "HpcClusterId": {"description": "实例所属的高性能计算集群ID。\n:::tip\n仅当创建高性能计算GPU型实例时，该参数生效且为必填项。\n:::", "type": "string"}, "Image": {"description": "实例的镜像。", "type": "object", "$ref": "#/definitions/Image"}, "InstanceChargeType": {"description": "实例和云盘的计费类型，取值：\n- PostPaid：按量计费。\n- PrePaid：包年包月。请确认您的账号支持余额支付或者信控支付，否则将返回InvalidInstanceChargeType的错误提示。", "type": "string", "enum": ["PostPaid", "PrePaid"]}, "InstanceId": {"description": "ECS实例的ID。", "type": "string", "semantic": "resourceId"}, "InstanceName": {"description": "实例的名称。\n- 以字母或中文开头。\n- 只能包含中文、字母、数字、下划线“_”、中划线“-”和点号“.”。\n- 长度限制为1～128个字符。", "pattern": "[a-zA-Z0-9_.-]{1,128}", "type": "string", "semantic": "resourceName"}, "InstanceType": {"description": "实例规格。\n- 产品选型：您可以参考[实例规格介绍](https://www.volcengine.com/docs/6396/70840)或者调用[DescribeInstanceTypes](https://www.volcengine.com/docs/6396/92769)查看实例规格的性能数据，也可以参考[实例选型最佳实践](https://www.volcengine.com/docs/6396/74174)了解如何选择实例规格。\n- 查询库存：您可以调用[DescribeAvailableResource](https://www.volcengine.com/docs/6396/76279)查询可用区中计算资源的库存信息。", "type": "string"}, "KeyPair": {"description": "实例的密钥对名称。", "type": "object", "$ref": "#/definitions/KeyPair"}, "OperationSystem": {"description": "实例的操作系统类型。", "type": "object", "$ref": "#/definitions/OperationSystem"}, "Password": {"description": "实例的密码。", "type": "string"}, "Period": {"description": "购买资源的时长（N）。\n- `PeriodUnit`为`Month`（默认）时，取值：1、2、3、4、5、6、7、8、9、12、24、36、48、60。\n- `PeriodUnit`为`Year`时，取值：1、2、3、4、5。\n:::tip\n仅当`InstanceChargeType`取值为`PrePaid`时生效，且为必填。", "type": "integer", "enum": [1, 2, 3, 4, 5, 6, 7, 8, 9, 12, 24, 36, 48, 60]}, "PeriodUnit": {"description": "购买资源的时长单位。取值：\n- Month（默认）：月。\n- Year：年。\n:::tip\n仅当`InstanceChargeType`取值为`PrePaid`时生效。", "type": "string", "enum": ["Month"]}, "Placement": {"description": "实例的部署信息。", "type": "object", "$ref": "#/definitions/Placement"}, "PrimaryNetworkInterface": {"description": "实例的主网卡。", "type": "object", "$ref": "#/definitions/NetworkInterface"}, "ProjectName": {"description": "实例所属的项目名称。", "pattern": "[a-zA-Z0-9_.-]{1,64}", "type": "string", "semantic": "projectName"}, "SecondaryNetworkInterfaces": {"description": "实例的辅助网卡。", "minItems": 1, "uniqueItems": false, "type": "array", "items": {"$ref": "#/definitions/NetworkInterface"}, "insertionOrder": false}, "SpotPriceLimit": {"description": "竞价实例的每小时最高价格。\n- 支持小数点后3位的精度。\n- 仅当`SpotStrategy`取值为`SpotWithPriceLimit`时生效。\n- 当`SpotStrategy`取值为`SpotWithPriceLimit`时，您可以自定义设置竞价实例的价格上限，当市场价格高于您的出价时，实例会被释放；当`SpotStrategy`取值为`SpotAsPriceGo`时，则代表您接受系统自动出价，跟随当前市场实际价格，此时无需填写该参数。", "type": "number"}, "SpotStrategy": {"description": "竞价策略。取值：\n- NoSpot（默认）：非竞价实例。\n- SpotWithPriceLimit：设置价格上限的竞ga价实例。\n- SpotAsPriceGo：系统自动出价，跟随当前市场实际价格的竞价实例。", "default": "NoSpot", "type": "string", "enum": ["NoSpot", "SpotWithPriceLimit", "SpotAsPriceGo"]}, "Status": {"description": "实例的状态。实例的状态，取值：\nCREATING：创建中\nRUNNING：运行中\nSTOPPING：停止中\nSTOPPED：已停止\nREBOOTING: 重启中\nSTARTING：启动中\nREBUILDING：重装中\nRESIZING：更配中\nERROR：错误\nDELETING：删除中。", "type": "string", "enum": ["CREATING", "RUNNING", "STOPPING", "STOPPED", "MODIFYING_VPC", "REBOOTING", "STARTING", "REBUILDING", "RESIZING", "ERROR", "DELETING"], "semantic": "status"}, "SystemVolume": {"description": "实例的系统卷。", "type": "object", "$ref": "#/definitions/Volume"}, "Tags": {"description": "标签", "maxItems": 50, "uniqueItems": true, "type": "array", "items": {"$ref": "#/definitions/Tag"}, "insertionOrder": false, "semantic": "tags"}, "UpdatedAt": {"description": "实例的更新时间。", "format": "date-time", "type": "string", "semantic": "updatedTime"}, "UserData": {"description": "实例的自定义数据，默认为空。最终传入的UserData会被Base64转码。\n- Linux实例：脚本内容不能超过16KB，且必须经过Base64编码。\n- Windows实例：脚本内容不能超过8KB，且无需Base64编码。", "maxLength": 16384, "type": "string"}, "VpcId": {"description": "实例所属的私有网络ID。您可以调用[DescribeVpcs](https://www.volcengine.com/docs/6563/66127)接口获取目标地域下的VPC信息。", "type": "string"}, "ZoneId": {"description": "实例所在的可用区ID。", "type": "string"}}, "required": ["InstanceName", "InstanceType", "ZoneId", "Image", "PrimaryNetworkInterface", "SystemVolume"], "readOnlyProperties": ["/properties/InstanceId", "/properties/CreatedAt", "/properties/ExpiredAt", "/properties/UpdatedAt", "/properties/CpuMemory", "/properties/EipAddress/IpAddress", "/properties/EipAddress/AllocationId", "/properties/PrimaryNetworkInterface/Ipv6Addresses", "/properties/PrimaryNetworkInterface/MacAddress", "/properties/PrimaryNetworkInterface/NetworkInterfaceId", "/properties/PrimaryNetworkInterface/PrimaryIpAddress", "/properties/SecondaryNetworkInterfaces/*/Ipv6Addresses", "/properties/SecondaryNetworkInterfaces/*/MacAddress", "/properties/SecondaryNetworkInterfaces/*/NetworkInterfaceId"], "writeOnlyProperties": ["/properties/Password", "/properties/Image/ImageReleaseVersion", "/properties/Image/KeepImageCredential", "/properties/Image/SecurityEnhancementStrategy", "/properties/EipAddress/BandwidthPackageId", "/properties/EipAddress/BandwidthMbps", "/properties/EipAddress/ReleaseWithInstance", "/properties/EipAddress/ISP", "/properties/EipAddress/ChargeType", "/properties/AffinityGroupSize", "/properties/PrimaryNetworkInterface/PrivateIpAddresses", "/properties/Period", "/properties/PeriodUnit", "/properties/AutoRenew", "/properties/AutoRenewPeriod", "/properties/CpuMaxFrequency", "/properties/CreditSpecification"], "createOnlyProperties": ["/properties/ZoneId", "/properties/Image/ImageId", "/properties/ProjectName", "/properties/SpotStrategy", "/properties/SpotPriceLimit", "/properties/DeploymentSetId", "/properties/PrimaryNetworkInterface/Ipv6AddressCount", "/properties/PrimaryNetworkInterface/PrivateIpAddresses", "/properties/SecondaryNetworkInterfaces/*/Ipv6AddressCount", "/properties/EipAddress/BandwidthPackageId", "/properties/EipAddress/BandwidthMbps", "/properties/EipAddress/ReleaseWithInstance", "/properties/EipAddress/ISP", "/properties/EipAddress/ChargeType", "/properties/InstanceChargeType", "/properties/Period", "/properties/PeriodUnit", "/properties/AutoRenew", "/properties/AutoRenewPeriod", "/properties/SystemVolume", "/properties/InstanceType", "/properties/CpuMaxFrequency", "/properties/KeyPair", "/properties/DeletionProtection", "/properties/DeploymentSetGroupNumber", "/properties/Placement"], "primaryIdentifier": ["/properties/InstanceId"], "additionalProperties": false, "handlers": {"create": {"permissions": ["ecs:RunInstance", "ecs:DescribeInstances"]}, "delete": {"permissions": ["ecs:DeleteInstance", "ecs:DescribeInstances"]}, "list": {"permissions": ["ecs:DescribeInstances"]}, "read": {"permissions": ["ecs:DescribeInstances", "ecs:DescribeUserData"]}, "update": {"permissions": ["ecs:ModifyInstanceAttribute", "ecs:ModifyInstanceVpcAttribute", "ecs:TagResources", "ecs:UntagResources", "ecs:DescribeInstances", "ecs:DescribeUserData"]}}}